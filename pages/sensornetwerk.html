---
layout: default
title: Sensornetwerk
description: Details van het sensornetwerk.
permalink: /sensornetwerk
navGroup: /sensoren
---
<div class="p-4 color-bg-neutral-1">
    <div class="crumble-block p-y4">
        <div class="u-flex u-align-center">
            <a href="{{ "/sensornetwerken" | relative_url }}" class="text-body color-brand-3">Sensornetwerken</a>
            <span class="text-body color-brand-3 m-x1">&gt;</span>
            <a href="#" class="text-body color-brand-3"><span data-attribute="onderdeel"></span></a>
        </div>
        <h1 class="text-h1 m-y3"><span data-attribute="title">Sensornetwerk X</span></h1>
    </div>
    <div class="prop-block p-b6">
        <div class="w-md-75">
            <div class="prop p-5 color-bg-neutral-2">
                <div class="u-flex u-space-between u-direction-column u-md-direction-row">
                    <div class="u-flex u-direction-column">
                        <div class="u-flex m-b3 u-direction-column u-md-direction-row">
                            <div class="u-flex-1 text-h4">Contact</div>
                            <div class="u-flex-1 text-body">Johan G.</div>
                        </div>
                        <div class="u-flex m-b3 u-direction-column u-md-direction-row">
                            <div class="u-flex-1 text-h4">Email</div>
                            <div class="u-flex-1 text-body">johan@brabant.nl</div>
                        </div>
                    </div>
                    <div class="">
                        <a href="#" class="btn text-body">Bewerken</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="table-block p-b6">
        <h2 class="text-h2 m-b2">{{ page.title }} <span id="title"></span></h2>
        <p class="text-body m-b4">{{ page.description }}</p>
        <table class="table table-wide" id="sensoren"></table>
        <div class="p-t4">
            <a href="#" class="btn btn-small text-body u-display-inline-block">+ Nieuwe toevoegen</a>
        </div>
    </div>
</div>
<script>
    var sensornetwerkenApiUrl = {{ "/api/sensornetwerken.json" | absolute_url | jsonify }};
    var id = new URLSearchParams(window.location.search).get('id');
    fetch(sensornetwerkenApiUrl)
        .then(response => response.json())
        .then(data => { return data._embedded.sensornetwerken; })
        .then(sensornetwerken => {
            var sensornetwerk = sensornetwerken.find(sensornetwerk => sensornetwerk.id == id);
            document.getElementById("title").innerHTML = sensornetwerk.naam;
            var html = `
                <tr>
                    <th class="table-th text-h4">Sensor</th>
                    <th class="table-th text-h4">Contactpersoon</th>
                    <th class="table-th text-h4">Email</th>
                    <th class="table-th text-h4">Status</th>
                </tr>
            `;
            htmls = sensornetwerk._embedded.sensoren.map(sensor => {
                return `
                    <tr class="table-tr">
                        <td class="table-td text-body">
                            ${sensor.naam}
                        </td>
                        <td class="table-td text-body">
                            ${sensor.contact.naam}
                        </td>
                        <td class="table-td text-body">
                            <a href="mailto:${sensor.contact.email}" class="table-td-link">${sensor.contact.email}</a>
                        </td>
                        <td class="table-td text-body">
                            ${sensor.status}
                        </td>
                    </tr>
                `;
            });
            document.getElementById("sensoren").innerHTML = html + htmls.join('');

        });
</script>